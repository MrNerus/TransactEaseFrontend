<div class="form-container">
  <h1>{{ isViewMode() ? 'View User' : (isEditMode() ? 'Edit User' : 'Add User') }}</h1>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="fullName">Full Name</label>
      <input type="text" id="fullName" formControlName="fullName">
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" formControlName="email">
    </div>
    <div class="form-group">
      <label for="organizationId">Organization ID</label>
      <input type="text" id="organizationId" formControlName="organizationId">
    </div>
    <div class="form-group">
      <label for="role">Role</label>
      <select id="role" formControlName="role" [compareWith]="compareRoles">
        @for (role of roles; track role.name) {
          <option [ngValue]="role">{{ role.name }}</option>
        }
      </select>
    </div>
    <div class="form-group">
      <label for="isActive">Active</label>
      <input type="checkbox" id="isActive" formControlName="isActive">
    </div>
    <div class="form-actions">
      @if (!isViewMode()) {
        <button type="submit" class="btn btn-primary" [disabled]="form.invalid">{{ isEditMode() ? 'Save' : 'Add' }}</button>
      }
      <button type="button" class="btn btn-secondary" (click)="onCancel()">{{ isViewMode() ? 'Back' : 'Cancel' }}</button> 
    </div>
  </form>
</div>